(function(t){function e(e){for(var i,n,r=e[0],l=e[1],c=e[2],u=0,d=[];u<r.length;u++)n=r[u],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&d.push(a[n][0]),a[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);m&&m(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],i=!0,n=1;n<s.length;n++){var r=s[n];0!==a[r]&&(i=!1)}i&&(o.splice(e--,1),t=l(l.s=s[0]))}return t}var i={},n={app:0},a={app:0},o=[];function r(t){return l.p+"js/"+({about:"about"}[t]||t)+"."+{about:"2c618f74"}[t]+".js"}function l(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.e=function(t){var e=[],s={about:1};n[t]?e.push(n[t]):0!==n[t]&&s[t]&&e.push(n[t]=new Promise((function(e,s){for(var i="css/"+({about:"about"}[t]||t)+"."+{about:"66c58629"}[t]+".css",a=l.p+i,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var c=o[r],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===i||u===a))return e()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){c=d[r],u=c.getAttribute("data-href");if(u===i||u===a)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var i=e&&e.target&&e.target.src||a,o=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,delete n[t],m.parentNode.removeChild(m),s(o)},m.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){n[t]=0})));var i=a[t];if(0!==i)if(i)e.push(i[2]);else{var o=new Promise((function(e,s){i=a[t]=[e,s]}));e.push(i[2]=o);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=r(t);var d=new Error;c=function(e){u.onerror=u.onload=null,clearTimeout(m);var s=a[t];if(0!==s){if(s){var i=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+i+": "+n+")",d.name="ChunkLoadError",d.type=i,d.request=n,s[1](d)}a[t]=void 0}};var m=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(e)},l.m=t,l.c=i,l.d=function(t,e,s){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)l.d(s,i,function(e){return t[e]}.bind(null,i));return s},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/discgenius-app/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var m=u;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"00fd":function(t,e,s){"use strict";s("5133")},"034f":function(t,e,s){"use strict";s("85ec")},"04ba":function(t,e,s){t.exports=s.p+"img/legend.4589a347.png"},"060f":function(t,e,s){},"078e":function(t,e,s){t.exports=s.p+"img/dglogo_htw_tp.d0c0f9ad.png"},"0d96":function(t,e,s){"use strict";s("2855")},"16e9":function(t,e,s){"use strict";s("8314")},2730:function(t,e,s){"use strict";s("d46c")},2855:function(t,e,s){},"48c3":function(t,e,s){"use strict";s("a692")},"4df8":function(t,e,s){t.exports=s.p+"img/VFF.0d40ef14.png"},5133:function(t,e,s){},"53c4":function(t,e,s){"use strict";s("af00")},5474:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAtUlEQVRIie2UQQrCMBBFH4L1CoInKfQ8XfcW9Qi6E72JC3sRi2dwVTcZTNuJTNKuJA/+IjCZnw+ZgcxCGmAwqgeOQPGrYe3kc40wGYA21LwE3k6lNaJHxTfJjD3w9F7xAg4JJnJ/xBa4M4/aAbs1DM5Kc9FlDYOogliDzYJmJrLBfxj431yQ82lanPJNQ4P6QBnU1Dkwr5reFVQJJqZl2RJeG5puk/vauh9ROBNJYlFjjZhR+QCZD2gGnNm7+AAAAABJRU5ErkJggg=="},"56d7":function(t,e,s){"use strict";s.r(e);var i=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{"data-app":"",id:"app"}},[s("div",{attrs:{id:"nav"}},[s("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" | "),s("router-link",{attrs:{to:"/about"}},[t._v("About")])],1),s("router-view")],1)},a=[],o=(s("034f"),s("2877")),r={},l=Object(o["a"])(r,n,a,!1,null,null,null),c=l.exports,u=s("8c4f"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("LogoHeader"),s("section",{staticClass:"flexContainer"},[s("div",{staticClass:"one"},[s("Navigate",{on:{switch:function(e){return t.switchViewState(e)}}})],1),s("div",{staticClass:"two"},[s("LoginState")],1)]),s("section",[0===t.viewState?s("div",[s("FrontPage",{ref:"frontPage"})],1):t._e(),1===t.viewState?s("div",[s("MixCreate")],1):t._e(),2===t.viewState?s("div",[s("MixList")],1):t._e(),3===t.viewState?s("div",[s("SongList")],1):t._e()])],1)},m=[],p=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},v=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"header"}},[i("img",{attrs:{alt:"Logo",src:s("078e")}}),i("h1",[t._v("DiscGenius")]),i("h4",[t._v("A DJ-Style Song-Mixing Application")]),i("div",{staticStyle:{"padding-top":"10px"}})])}],g={data(){return{title:"DiscGenius",subtitle:"A DJ-Style Song-Mixing Application"}}},h=g,f=(s("a43b"),Object(o["a"])(h,p,v,!1,null,"52ae98d2",null)),_=f.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("button",{staticClass:"navButton",on:{click:function(e){return t.$emit("switch",1)}}},[t._v("Create Mix")]),s("button",{staticClass:"navButton",on:{click:function(e){return t.$emit("switch",2)}}},[t._v("Mix List")]),s("button",{staticClass:"navButton",on:{click:function(e){return t.$emit("switch",3)}}},[t._v("Song List")])])},C=[],x={name:"Navigate"},y=x,b=(s("9e36"),Object(o["a"])(y,w,C,!1,null,"ec8a106c",null)),S=b.exports,A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.authState?t.authState?s("div",{staticClass:"loginDiv"},[s("div",[s("label",{staticClass:"loginLabel"},[t._v("Logged in as "+t._s(t.username))])]),s("div",[s("button",{staticClass:"logoutButton",on:{click:t.doLogout}},[t._v("Logout")])])]):t._e():s("div",{staticClass:"loginDiv"},[s("button",{staticClass:"loginButton",on:{click:t.doLogin}},[t._v("Login")])])])},P=[],M={computed:{authState(){return this.$store.getters["isLoggedIn"]},username(){return this.$store.getters["getUser"]}},methods:{doLogin(){this.$router.push("/login")},doLogout(){this.$store.dispatch("logout")}}},k=M,E=(s("00fd"),Object(o["a"])(k,A,P,!1,null,"0381fe2e",null)),T=E.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"spacer"}),s("section",[s("h2",[t._v(" Welcome to DiscGenius! ")]),s("div",{staticClass:"frontPageDiv"},[t._v(" DiscGenius is a tool for creating DJ-style music mixes from your Audio Files (.mp3, .wav). ")]),s("div",{staticClass:"frontPageDiv"},[t._v(" You can upload Songs and combine them into Mixes, which you also extend with more songs. ")]),s("div",{staticClass:"frontPageDiv"},[t._v(" DiscGenius will adjust the tempo of the second song of any Mix to the first, but you can also take full control and set the tempo of produced mix. ")]),s("div",{staticClass:"frontPageDiv"},[t._v(" Last but not least, DiscGenius offers multiple transition styles for any mix which you can select from at mix creation. ")]),t.authState?t.authState?s("div",{staticClass:"frontPageDiv"},[t._v(" You are logged in! Happy mixing. ")]):t._e():s("div",{staticClass:"frontPageDiv"},[t._v(" To get started, log in to or create an account and start creating mixes in your user storage (Under Construction). ")])])])},V=[],D={computed:{authState(){return this.$store.state.authState}}},B=D,N=(s("2730"),Object(o["a"])(B,L,V,!1,null,"702fc990",null)),I=N.exports,$=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"spacer"}),i("div",{attrs:{id:"songSelect"}},[t._m(0),i("div",{attrs:{id:"track1select"}},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.selected1,expression:"selected1"}],staticClass:"audioSelect",attrs:{outlined:""},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected1=e.target.multiple?s:s[0]},t.selectFirstSong]}},[t._l(t.songs,(function(e){return i("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e.title)+" ")])})),t._l(t.mixes,(function(e){return i("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e.title)+" ")])}))],2),i("label",{staticClass:"songInfo"},[t._v("tempo: "+t._s(t.tempo1))]),i("label",{staticClass:"songInfo"},[t._v("length: "+t._s(t.length1))]),i("label",{staticClass:"songInfo"},[t._v("number of songs: "+t._s(t.numSongs1))])]),0!==t.length1?i("div",[i("v-tooltip",{attrs:{bottom:"","nudge-top":10},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[i("div",t._g(t._b({staticClass:"entryPointSlider"},"div",n,!1),s),[i("v-slider",{attrs:{max:"100",min:"0",hint:"Entry Point",color:t.exitPointSliderColors.preface,"track-color":t.exitPointSliderColors.exit,"thumb-color":t.sliderThumbColor},model:{value:t.exitPoint,callback:function(e){t.exitPoint=e},expression:"exitPoint"}})],1)]}}],null,!1,1869864370)},[i("span",[t._v(" Control what part of the first track will be considered for beginning the transition ")])]),i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[i("div",t._g(t._b({staticClass:"sliderControl"},"div",n,!1),s),[i("span",[t._v(" "+t._s(t.convertExitPoint)+" ")])])]}}],null,!1,2134364252)},[i("span",[t._v("The last "+t._s(t.convertExitPointPercent)+"% of the first track will be scanned for usable transition areas")])])],1):t._e(),i("div",{attrs:{id:"track2select"}},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.selected2,expression:"selected2"}],staticClass:"audioSelect",attrs:{outlined:""},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected2=e.target.multiple?s:s[0]},t.selectSecondSong]}},[t._l(t.songs,(function(e){return i("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e.title)+" ")])})),t._l(t.mixes,(function(e){return i("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e.title)+" ")])}))],2),i("label",{staticClass:"songInfo"},[t._v("tempo: "+t._s(t.tempo2))]),i("label",{staticClass:"songInfo"},[t._v("length: "+t._s(t.length2))]),i("label",{staticClass:"songInfo"},[t._v("number of songs: "+t._s(t.numSongs2))])]),0!==t.length2?i("div",[i("v-tooltip",{attrs:{bottom:"","nudge-top":10},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[i("div",t._g(t._b({staticClass:"entryPointSlider"},"div",n,!1),s),[i("v-slider",{attrs:{max:"100",min:"0",hint:"Entry Point",color:t.entryPointSliderColors.entry,"track-color":t.entryPointSliderColors.trail,"thumb-color":t.sliderThumbColor},model:{value:t.entryPoint,callback:function(e){t.entryPoint=e},expression:"entryPoint"}})],1)]}}],null,!1,55258614)},[i("span",[t._v("Control what part of the second Track will be used in the transition")])]),i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[i("span",t._g(t._b({staticClass:"entryPointLabel"},"span",n,!1),s),[t._v(" "+t._s(t.convertEntryPoint)+" ")])]}}],null,!1,85937007)},[i("span",[t._v("The first "+t._s(t.convertEntryPointPercent)+"% of the second track will be scanned for usable transition areas")])])],1):t._e(),i("div",{staticClass:"spacer"}),i("div",{attrs:{id:"tempoOverride"}},[i("div",{staticClass:"tempoOverride"},[i("v-tooltip",{attrs:{bottom:"","nudge-top":"5"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[i("div",t._g(t._b({staticClass:"tempoOverrideLabel"},"div",n,!1),s),[i("label",[t._v(" Override Mix Tempo? ")])])]}}])},[i("span",[t._v("You may override the Results tempo to your desired BPM. By default, the first tracks' tempo is used.")])])],1),i("div",{staticClass:"tempoOverride"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.tempoOverride,expression:"tempoOverride"}],staticClass:"tempoOverrideCheck",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.tempoOverride)?t._i(t.tempoOverride,null)>-1:t.tempoOverride},on:{change:function(e){var s=t.tempoOverride,i=e.target,n=!!i.checked;if(Array.isArray(s)){var a=null,o=t._i(s,a);i.checked?o<0&&(t.tempoOverride=s.concat([a])):o>-1&&(t.tempoOverride=s.slice(0,o).concat(s.slice(o+1)))}else t.tempoOverride=n}}})]),i("v-tooltip",{attrs:{bottom:"",disabled:!1===t.tempoOverride,"nudge-top":"5"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[i("div",t._g(t._b({staticClass:"tempoOverride"},"div",n,!1),s),[i("input",{directives:[{name:"model",rawName:"v-model",value:t.mixTempo,expression:"mixTempo"}],staticClass:"tempoOverrideInput",attrs:{placeholder:t.mixTempo,disabled:!1===t.tempoOverride},domProps:{value:t.mixTempo},on:{input:function(e){e.target.composing||(t.mixTempo=e.target.value)}}})])]}}])},[i("span",[t._v("Enter the BPM you want the resulting mix to have.")])])],1)]),t.songsSelected?i("div",{directives:[{name:"smoothscroll",rawName:"v-smoothscroll",value:{duration:500,context:void 0,axis:"y"},expression:"{duration: 500, context: undefined, axis:'y'}"}],attrs:{id:"previewSelect"}},[t._m(1),t._m(2),i("div",{attrs:{id:"scenarioBlocks1"}},[i("div",{staticClass:"scenarioBlock"},[i("button",{staticClass:"scenarioButton",attrs:{disabled:"EQ_1.0"===t.scenario},on:{click:function(e){return t.selectScenario("EQ_1.0")}}},[t._v(" EQ_1.0 ")]),"EQ_1.0"===t.scenario?i("div",[i("v-tooltip",{attrs:{top:"","nudge-bottom":"10"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,a=e.attrs;return[i("img",t._g(t._b({staticClass:"scenarioPreview",attrs:{src:s("b84e")}},"img",a,!1),n))]}}],null,!1,2226944241)},[i("img",{staticClass:"scenarioLegendImage",attrs:{src:s("04ba")}})]),i("div",[t._v("Audio Sample for EQ 1 Transition")]),i("div",{staticClass:"player-wrapper",attrs:{id:"audio-player1"}},[i("div",{staticClass:"player"},[i("div",{staticClass:"player-controls"},[i("div",{attrs:{id:"play1"}},[i("a",{attrs:{title:t.playing?"Pause":"Play",href:"#"},on:{click:function(e){e.preventDefault(),t.playing=!t.playing}}},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[t.playing?i("path",{attrs:{fill:"currentColor",d:"M15,3h-2c-0.553,0-1,0.048-1,0.6v12.8c0,0.552,0.447,0.6,1,0.6h2c0.553,0,1-0.048,1-0.6V3.6C16,3.048,15.553,3,15,3z M7,3H5C4.447,3,4,3.048,4,3.6v12.8C4,16.952,4.447,17,5,17h2c0.553,0,1-0.048,1-0.6V3.6C8,3.048,7.553,3,7,3z"}}):i("path",{attrs:{fill:"currentColor",d:"M15,10.001c0,0.299-0.305,0.514-0.305,0.514l-8.561,5.303C5.51,16.227,5,15.924,5,15.149V4.852c0-0.777,0.51-1.078,1.135-0.67l8.561,5.305C14.695,9.487,15,9.702,15,10.001z"}})])])]),i("div",{attrs:{id:"seek1"}},[i("div",{staticClass:"player-progress",attrs:{title:"Time played : Total time"},on:{click:t.seek}},[i("div",{staticClass:"player-seeker",style:{width:t.percentComplete+"%"}})]),i("div",{staticClass:"player-time"},[i("div",{staticClass:"player-time-current"},[t._v(t._s(t.currentTime))]),i("div",{staticClass:"player-time-total"},[t._v(t._s(t.durationTime))])])]),i("div",{attrs:{id:"volume1"}},[i("a",{attrs:{title:t.volumeTitle,href:"#"},on:{click:function(t){t.preventDefault()},mouseenter:function(e){t.showVolume=!0},mouseleave:function(e){t.showVolume=!1}}},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[i("path",{attrs:{fill:"currentColor",d:"M19,13.805C19,14.462,18.462,15,17.805,15H1.533c-0.88,0-0.982-0.371-0.229-0.822l16.323-9.055C18.382,4.67,19,5.019,19,5.9V13.805z"}})]),i("input",{directives:[{name:"model",rawName:"v-model.lazy.number",value:t.volume,expression:"volume",modifiers:{lazy:!0,number:!0}},{name:"show",rawName:"v-show",value:t.showVolume,expression:"showVolume"}],staticClass:"player-volume",attrs:{type:"range",min:"0",max:"100"},domProps:{value:t.volume},on:{change:function(e){t.volume=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}})])])])])])],1):t._e()]),i("div",{staticClass:"scenarioBlock"},[i("button",{staticClass:"scenarioButton",attrs:{disabled:"EQ_1.1"===t.scenario},on:{click:function(e){return t.selectScenario("EQ_1.1")}}},[t._v(" EQ_1.1 ")]),"EQ_1.1"===t.scenario?i("div",[i("v-tooltip",{attrs:{top:"","nudge-bottom":"10"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,a=e.attrs;return[i("img",t._g(t._b({staticClass:"scenarioPreview",attrs:{src:s("6616")}},"img",a,!1),n))]}}],null,!1,4164566796)},[i("img",{staticClass:"scenarioLegendImage",attrs:{src:s("04ba")}})]),i("div",[t._v("Audio Sample for EQ 1.1 Transition")]),i("div",{staticClass:"player-wrapper",attrs:{id:"audio-player2"}},[i("div",{staticClass:"player"},[i("div",{staticClass:"player-controls"},[i("div",{attrs:{id:"play2"}},[i("a",{attrs:{title:t.playing?"Pause":"Play",href:"#"},on:{click:function(e){e.preventDefault(),t.playing=!t.playing}}},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[t.playing?i("path",{attrs:{fill:"currentColor",d:"M15,3h-2c-0.553,0-1,0.048-1,0.6v12.8c0,0.552,0.447,0.6,1,0.6h2c0.553,0,1-0.048,1-0.6V3.6C16,3.048,15.553,3,15,3z M7,3H5C4.447,3,4,3.048,4,3.6v12.8C4,16.952,4.447,17,5,17h2c0.553,0,1-0.048,1-0.6V3.6C8,3.048,7.553,3,7,3z"}}):i("path",{attrs:{fill:"currentColor",d:"M15,10.001c0,0.299-0.305,0.514-0.305,0.514l-8.561,5.303C5.51,16.227,5,15.924,5,15.149V4.852c0-0.777,0.51-1.078,1.135-0.67l8.561,5.305C14.695,9.487,15,9.702,15,10.001z"}})])])]),i("div",{attrs:{id:"seek2"}},[i("div",{staticClass:"player-progress",attrs:{title:"Time played : Total time"},on:{click:t.seek}},[i("div",{staticClass:"player-seeker",style:{width:t.percentComplete+"%"}})]),i("div",{staticClass:"player-time"},[i("div",{staticClass:"player-time-current"},[t._v(t._s(t.currentTime))]),i("div",{staticClass:"player-time-total"},[t._v(t._s(t.durationTime))])])]),i("div",{attrs:{id:"volume2"}},[i("a",{attrs:{title:t.volumeTitle,href:"#"},on:{click:function(t){t.preventDefault()},mouseenter:function(e){t.showVolume=!0},mouseleave:function(e){t.showVolume=!1}}},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[i("path",{attrs:{fill:"currentColor",d:"M19,13.805C19,14.462,18.462,15,17.805,15H1.533c-0.88,0-0.982-0.371-0.229-0.822l16.323-9.055C18.382,4.67,19,5.019,19,5.9V13.805z"}})]),i("input",{directives:[{name:"model",rawName:"v-model.lazy.number",value:t.volume,expression:"volume",modifiers:{lazy:!0,number:!0}},{name:"show",rawName:"v-show",value:t.showVolume,expression:"showVolume"}],staticClass:"player-volume",attrs:{type:"range",min:"0",max:"100"},domProps:{value:t.volume},on:{change:function(e){t.volume=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}})])])])])])],1):t._e()])]),t._m(3),i("div",{attrs:{id:"scenarioBlocks2"}},[i("div",{staticClass:"scenarioBlock"},[i("button",{staticClass:"scenarioButton",attrs:{disabled:"VFF_1.0"===t.scenario},on:{click:function(e){return t.selectScenario("VFF_1.0")}}},[t._v(" VFF_1.0 ")]),"VFF_1.0"===t.scenario?i("div",[i("v-tooltip",{attrs:{top:"","nudge-bottom":"10"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,a=e.attrs;return[i("img",t._g(t._b({staticClass:"scenarioPreview",attrs:{src:s("4df8")}},"img",a,!1),n))]}}],null,!1,3546343763)},[i("img",{staticClass:"scenarioLegendImage",attrs:{src:s("04ba")}})]),i("div",[t._v("Audio Sample for VFF 1 Transition")]),i("div",{staticClass:"player-wrapper",attrs:{id:"audio-player3"}},[i("div",{staticClass:"player"},[i("div",{staticClass:"player-controls"},[i("div",{attrs:{id:"play3"}},[i("a",{attrs:{title:t.playing?"Pause":"Play",href:"#"},on:{click:function(e){e.preventDefault(),t.playing=!t.playing}}},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[t.playing?i("path",{attrs:{fill:"currentColor",d:"M15,3h-2c-0.553,0-1,0.048-1,0.6v12.8c0,0.552,0.447,0.6,1,0.6h2c0.553,0,1-0.048,1-0.6V3.6C16,3.048,15.553,3,15,3z M7,3H5C4.447,3,4,3.048,4,3.6v12.8C4,16.952,4.447,17,5,17h2c0.553,0,1-0.048,1-0.6V3.6C8,3.048,7.553,3,7,3z"}}):i("path",{attrs:{fill:"currentColor",d:"M15,10.001c0,0.299-0.305,0.514-0.305,0.514l-8.561,5.303C5.51,16.227,5,15.924,5,15.149V4.852c0-0.777,0.51-1.078,1.135-0.67l8.561,5.305C14.695,9.487,15,9.702,15,10.001z"}})])])]),i("div",{attrs:{id:"seek3"}},[i("div",{staticClass:"player-progress",attrs:{title:"Time played : Total time"},on:{click:t.seek}},[i("div",{staticClass:"player-seeker",style:{width:t.percentComplete+"%"}})]),i("div",{staticClass:"player-time"},[i("div",{staticClass:"player-time-current"},[t._v(t._s(t.currentTime))]),i("div",{staticClass:"player-time-total"},[t._v(t._s(t.durationTime))])])]),i("div",{attrs:{id:"volume3"}},[i("a",{attrs:{title:t.volumeTitle,href:"#"},on:{click:function(t){t.preventDefault()},mouseenter:function(e){t.showVolume=!0},mouseleave:function(e){t.showVolume=!1}}},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[i("path",{attrs:{fill:"currentColor",d:"M19,13.805C19,14.462,18.462,15,17.805,15H1.533c-0.88,0-0.982-0.371-0.229-0.822l16.323-9.055C18.382,4.67,19,5.019,19,5.9V13.805z"}})]),i("input",{directives:[{name:"model",rawName:"v-model.lazy.number",value:t.volume,expression:"volume",modifiers:{lazy:!0,number:!0}},{name:"show",rawName:"v-show",value:t.showVolume,expression:"showVolume"}],staticClass:"player-volume",attrs:{type:"range",min:"0",max:"100"},domProps:{value:t.volume},on:{change:function(e){t.volume=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}})])])])])])],1):t._e()]),i("div",{staticClass:"scenarioBlock"},[i("button",{staticClass:"scenarioButton",attrs:{disabled:"VFF_1.1"===t.scenario},on:{click:function(e){return t.selectScenario("VFF_1.1")}}},[t._v(" VFF_1.1 ")]),"VFF_1.1"===t.scenario?i("div",[i("v-tooltip",{attrs:{top:"","nudge-bottom":"10"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,a=e.attrs;return[i("img",t._g(t._b({staticClass:"scenarioPreview",attrs:{src:s("fc84")}},"img",a,!1),n))]}}],null,!1,2893066190)},[i("img",{staticClass:"scenarioLegendImage",attrs:{src:s("04ba")}})]),i("div",[t._v("Audio Sample for VFF 1.1 Transition")]),i("div",{staticClass:"player-wrapper",attrs:{id:"audio-player4"}},[i("div",{staticClass:"player"},[i("div",{staticClass:"player-controls"},[i("div",{attrs:{id:"play4"}},[i("a",{attrs:{title:t.playing?"Pause":"Play",href:"#"},on:{click:function(e){e.preventDefault(),t.playing=!t.playing}}},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[t.playing?i("path",{attrs:{fill:"currentColor",d:"M15,3h-2c-0.553,0-1,0.048-1,0.6v12.8c0,0.552,0.447,0.6,1,0.6h2c0.553,0,1-0.048,1-0.6V3.6C16,3.048,15.553,3,15,3z M7,3H5C4.447,3,4,3.048,4,3.6v12.8C4,16.952,4.447,17,5,17h2c0.553,0,1-0.048,1-0.6V3.6C8,3.048,7.553,3,7,3z"}}):i("path",{attrs:{fill:"currentColor",d:"M15,10.001c0,0.299-0.305,0.514-0.305,0.514l-8.561,5.303C5.51,16.227,5,15.924,5,15.149V4.852c0-0.777,0.51-1.078,1.135-0.67l8.561,5.305C14.695,9.487,15,9.702,15,10.001z"}})])])]),i("div",{attrs:{id:"seek4"}},[i("div",{staticClass:"player-progress",attrs:{title:"Time played : Total time"},on:{click:t.seek}},[i("div",{staticClass:"player-seeker",style:{width:t.percentComplete+"%"}})]),i("div",{staticClass:"player-time"},[i("div",{staticClass:"player-time-current"},[t._v(t._s(t.currentTime))]),i("div",{staticClass:"player-time-total"},[t._v(t._s(t.durationTime))])])]),i("div",{attrs:{id:"volume4"}},[i("a",{attrs:{title:t.volumeTitle,href:"#"},on:{click:function(t){t.preventDefault()},mouseenter:function(e){t.showVolume=!0},mouseleave:function(e){t.showVolume=!1}}},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[i("path",{attrs:{fill:"currentColor",d:"M19,13.805C19,14.462,18.462,15,17.805,15H1.533c-0.88,0-0.982-0.371-0.229-0.822l16.323-9.055C18.382,4.67,19,5.019,19,5.9V13.805z"}})]),i("input",{directives:[{name:"model",rawName:"v-model.lazy.number",value:t.volume,expression:"volume",modifiers:{lazy:!0,number:!0}},{name:"show",rawName:"v-show",value:t.showVolume,expression:"showVolume"}],staticClass:"player-volume",attrs:{type:"range",min:"0",max:"100"},domProps:{value:t.volume},on:{change:function(e){t.volume=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}})])])])])])],1):t._e()])]),t._m(4)]):t._e(),t.previewSelected?i("div",{directives:[{name:"smoothscroll",rawName:"v-smoothscroll",value:{duration:500,context:void 0,axis:"y"},expression:"{duration: 500, context: undefined, axis:'y'}"}],attrs:{id:"mixNameAndSend"}},[t._m(5),i("div",{staticClass:"flexContainer"},[i("div",{staticClass:"mixSubmit"},[t.previewSelected?i("input",{directives:[{name:"model",rawName:"v-model",value:t.mixName,expression:"mixName"}],ref:"mixName",staticClass:"mixNameInput",attrs:{placeholder:"Mix Name"},domProps:{value:t.mixName},on:{input:function(e){e.target.composing||(t.mixName=e.target.value)}}}):t._e()]),i("div",{staticClass:"mixSubmit"},[i("button",{staticClass:"submitButton",attrs:{disabled:""===t.mixName},on:{click:t.submit}},[t._v("Submit ")])]),t.submitted?i("div",{staticClass:"mixProgress"},[i("vue-ellipse-progress",{attrs:{progress:t.currentProgress,"legend-value":t.currentProgress,size:50,color:"#76b900"}})],1):t._e(),t.submitted?i("div",{staticClass:"mixDownload"},[i("button",{staticClass:"downloadButton",attrs:{disabled:t.currentProgress<100},on:{click:function(e){return t.download(t.mixId)}}},[t._v("Download ")])]):t._e()])]):t._e(),t.submitted?i("div",{staticClass:"resetDiv"},[t._m(6),i("button",{staticClass:"resetButton",on:{click:t.reset}},[t._m(7),t._m(8)])]):t._e(),i("audio",{ref:"audio",staticStyle:{display:"none"},attrs:{id:"audio-driver",src:t.currentPreview,preload:"none"}})])},O=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"stepDescription"},[s("span",[t._v("1. Select Songs for the new Mix")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"stepDescription"},[s("span",[t._v("2. Select a Mix Scenario")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"scenarioLegend"},[s("div",{staticClass:"scenarioExplanation"},[s("div",[s("label",{staticClass:"scenarioExplanationLabel"},[t._v(" Select one of the available pre-defined Mix Scenarios with the Buttons below. ")])]),s("div",[s("label",{staticClass:"scenarioExplanationLabel"},[t._v(" Each Scenario represents volume control for both tracks' High-, Mid- and Low-Frequency-Bands. ")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"scenarioNames1"}},[s("div",{staticClass:"scenarioName"},[s("label",[t._v("Three-Band-EQ 1")])]),s("div",{staticClass:"scenarioName"},[s("label",[t._v("Three-Band-EQ 2 (Bass Cut)")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"scenarioNames2"}},[s("div",{staticClass:"scenarioName"},[s("label",[t._v("Volumetric Fade 1")])]),s("div",{staticClass:"scenarioName"},[s("label",[t._v("Volumetric Fade 2 (Bass Cut)")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"stepDescription"},[s("label",[t._v("3. Name the Mix, Hit Submit and Download when it's ready")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",[t._v("Mix was created and will be available for downloading here or in the Mix List view, where you'll also find Metadata for the Mix. ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",[t._v("Create new Mix")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("img",{attrs:{alt:"reset",src:s("5474")}})])}];class F{get title(){return this._title}set title(t){this._title=t}get length(){return this._length}set length(t){this._length=t}get length_seconds(){return this._length_seconds}set length_seconds(t){this._length_seconds=t}get tempo(){return this._tempo}set tempo(t){this._tempo=t}get id(){return this._id}set id(t){this._id=t}get title_wav(){return this._title_wav}set title_wav(t){this._title_wav=t}get title_mp3(){return this._title_mp3}set title_mp3(t){this._title_mp3=t}get url(){return this._url}set url(t){this._url=t}constructor(t,e,s,i,n,a){this._title=t,this._title_wav=e,this._length=s,this._length_seconds=i,this._tempo=n,this._id=a,this._url="",this._title_mp3=""}}class Q{get title_mp3(){return this._title_mp3}set title_mp3(t){this._title_mp3=t}get title_wav(){return this._title_wav}set title_wav(t){this._title_wav=t}get length(){return this._length}set length(t){this._length=t}get length_seconds(){return this._length_seconds}set length_seconds(t){this._length_seconds=t}get url(){return this._url}set url(t){this._url=t}get song_list(){return this._song_list}set song_list(t){this._song_list=t}get transition_points(){return this._transition_points}set transition_points(t){this._transition_points=t}get scenario_list(){return this._scenario_list}set scenario_list(t){this._scenario_list=t}constructor(t,e,s,i,n,a,o,r,l){this.title=t,this._title_wav=e,this.numSongs=s,this.tempo=i,this.id=n,this.progress=a,this.progressPercent=o,r&&l?(this._length=r,this._length_seconds=l):(this._length="tbd.",this._length_seconds="tbd."),this._title_mp3="",this._url="",this._title_mp3="",this._song_list=[],this._scenario_list=[],this._transition_points=[]}}var z=s("bc3a"),j=s.n(z);const U="https://discgenius.f4.htw-berlin.de/";var H={uploadSong:R,getSongs:J,getSongFile:G,deleteSong:Y,getMixes:K,getMix:W,getMixFile:q,deleteMix:X,createMix:Z};function R(t,e,s){const i={filename:t,extension:e};return j.a.post(U+"upload",s,{params:i}).then((function(t){return t})).catch((function(t){console.log(t)}))}function J(){return j.a.get(U+"songs").then((function(t){return t})).catch((function(t){console.log(t)}))}function G(t){return j.a.get(U+"getSong",{params:{name:t}}).then((function(t){return t})).catch((function(t){console.log(t)}))}function Y(t){return j.a.delete(U+"songs",{params:{target_id:t}}).then((function(t){return t})).catch((function(t){console.log(t)}))}function K(){return j.a.get(U+"mixes").then((function(t){return t})).catch((function(t){console.log(t)}))}function W(t){return j.a.get(U+"getMixObject/"+t,{timeout:1e4}).then((function(t){return t})).catch((function(t){console.log(t)}))}function Z(t,e,s,i,n,a,o,r,l){const c={song_a_name:e,song_b_name:s,mix_name:t,bpm:n,scenario_name:i,num_songs_a:a,num_songs_b:o,exit_point:l,entry_point:r,transition_length:64,transition_midpoint:32};return console.log(c),j.a.post(U+"createMix",null,{params:c}).then((function(t){return t})).catch((function(t){console.log(t)}))}function q(t){const e=t.substring(0,t.length-3)+"mp3";return j.a.get(U+"getMixMedia/"+e,{responseType:"blob"}).then((function(t){return t})).catch((function(t){console.log(t)}))}function X(t){return j.a.delete(U+"mixes",{params:{target_id:t}}).then((function(t){return t})).catch((function(t){console.log(t)}))}const tt="https://discgenius.f4.htw-berlin.de/",et=t=>{let e=new Date(1e3*t).toISOString().substr(11,8);return 0===e.indexOf("00:")?e.substr(3):e};var st={components:{LoginState:T},data(){return{selected1:new F("stub",0,0,"0"),tempo1:0,length1:0,numSongs1:0,selected2:new F("stub",0,0,"0"),tempo2:0,length2:0,numSongs2:0,yeOldeStub:"",songsSelected:!1,previewSelected:!1,scenario:"",mixName:"",mixId:"",submitted:!1,tempoOverride:!1,customTempo:120,entryPoint:30,exitPoint:70,sliderThumbColor:"#20b900",exitPointSliderColors:{preface:"#c4d48a",exit:"#76b900"},entryPointSliderColors:{entry:"#76b900",trail:"#c4d48a"},audio:void 0,currentPreview:"",currentSeconds:0,durationSeconds:0,loaded:!1,playing:!1,previousVolume:20,showVolume:!1,volume:20,polling:!1}},mounted(){this.audio=this.$el.querySelectorAll("audio")[0],this.audio.addEventListener("timeupdate",this.update),this.audio.addEventListener("loadeddata",this.load),this.audio.addEventListener("pause",()=>{this.playing=!1}),this.audio.addEventListener("play",()=>{this.playing=!0})},computed:{convertExitPoint(){return this.exitPoint/100},convertExitPointPercent(){return-1*(this.exitPoint-100)},convertEntryPoint(){return this.entryPoint/100},convertEntryPointPercent(){return-1*(this.exitPoint-100)},songs(){return this.$store.state.songs},mixes(){return this.$store.getters.getAvailableMixes},currentProgress(){return this.$store.getters.getCurrentProgress},currentProgressPercent(){return this.$store.getters.getCurrentProgressPercent},mixNumSongs(){let t=1,e=1;return this.selected1 instanceof Q&&(t=this.selected1.numSongs),this.selected2 instanceof Q&&(e=this.selected2.numSongs),t+e},mixTempo(){return this.tempoOverride?this.customTempo:this.tempo1},newMixLength(){let t=this.tempo2/this.tempo1*this.length2;return t=Math.round(100*t)/100,this.length1+t},currentTime(){return et(this.currentSeconds)},durationTime(){return et(this.durationSeconds)},percentComplete(){return parseInt(this.currentSeconds/this.durationSeconds*100)},progressStyle(){return{width:this.percentComplete+"%"}},volumeTitle(){return`Volume (${this.volume}%)`}},created(){this.$store.getters.isLoggedIn&&(this.$store.dispatch("fetchMixes"),this.$store.dispatch("fetchSongs"))},watch:{playing(t){if(t)return this.audio.play();this.audio.pause()},volume(t){this.audio.volume=this.volume/100}},methods:{reset(){this.submitted=!1,this.previewSelected=!1,this.scenario="",this.currentPreview="",this.mixName="",this.songsSelected=!1,this.tempo1=0,this.tempo2=0,this.length1=0,this.length2=0,this.numSongs1=0,this.numSongs2=0,this.tempoOverride=!1,this.customTempo=120,this.entryPoint=30,this.exitPoint=70,this.polling=!1},selectFirstSong(){this.tempo1=this.selected1.tempo,this.length1=this.selected1.length,this.selected1 instanceof Q?this.numSongs1=this.selected1.numSongs:this.numSongs1=1,this.checkSongSelection()},selectSecondSong(){this.tempo2=this.selected2.tempo,this.length2=this.selected2.length,this.selected2 instanceof Q?this.numSongs2=this.selected2.numSongs:this.numSongs2=1,this.checkSongSelection()},checkSongSelection(){let t=0;0!==this.length1&&t++,0!==this.length2&&t++,2===t&&(this.songsSelected=!0,this.scenario="EQ_1.0",this.playbackPreview("EQ_10.mp3"),this.previewSelected=!0)},selectScenario(t){this.scenario=t,this.previewSelected=!0;const e=t.replace(".","")+".mp3";this.playbackPreview(e)},async submit(){this.submitted=!0;const t=Math.round(100*(1-this.convertExitPoint))/100,e=await H.createMix(this.mixName,this.selected1.title_wav,this.selected2.title_wav,this.scenario,this.mixTempo,this.numSongs1,this.numSongs2,this.convertEntryPoint,t);void 0===e?alert("Mix Creation failed"):(this.mixId=e.data.message.split(":")[2].trim(),console.log("created mix object id: ",this.mixId),this.polling=!0,await this.$store.commit("setProgress",0),await this.pollMix(this.mixId))},async pollMix(t){setInterval(()=>{this.currentProgress<100&&(this.polling?this.$store.dispatch("fetchMix",t):this.polling=!1)},6e4)},async download(t){const e=await H.getMix(t);if(void 0===e)alert("Mix Not Found");else{console.log(e);const t=e.data.data[0].title_mp3,s=await H.getMixFile(t);if(void 0===s)alert("Mix Download failed");else{let e=new Blob([s.data]),i=document.createElement("a");i.href=window.URL.createObjectURL(e),i.setAttribute("download",t),document.body.appendChild(i),i.click()}}},load(){if(this.audio.readyState>=2)return this.loaded=!0,this.durationSeconds=parseInt(this.audio.duration),this.playing=!0;throw new Error("Failed to load sound file.")},seek(t){if(!this.playing||"SPAN"===t.target.tagName)return;const e=t.target.getBoundingClientRect(),s=(t.clientX-e.left)/e.width,i=parseInt(this.audio.duration*s)+".0";console.log(i.toString()),this.audio.currentTime=i.toString()},stop(){this.playing=!1,this.audio.currentTime=0},update(t){this.currentSeconds=parseInt(this.audio.currentTime)},async playbackPreview(t){const e=tt+"mixPreview/"+t;console.log("initiating preview playback from url: ",e),this.loaded=!1,this.audio.src=e,this.currentPreview=e,this.durationSeconds=Math.round(47),console.log("loaded preview is ",this.durationSeconds," seconds long."),this.currentSeconds=0,this.playing=!1}}},it=st,nt=(s("0d96"),s("6544")),at=s.n(nt),ot=s("ba0d"),rt=s("3a2f"),lt=Object(o["a"])(it,$,O,!1,null,"23ec8d8c",null),ct=lt.exports;at()(lt,{VSlider:ot["a"],VTooltip:rt["a"]});var ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"spacer"}),s("div",{attrs:{id:"upload"}},[t.uploading?t.uploading?s("div",[s("div",{staticClass:"songUploadDiv"},[s("label",[t._v(" Song File "),s("input",{ref:"songFile",attrs:{type:"file",id:"songFile"},on:{change:t.handleFileUpload}})])]),s("div",{staticClass:"songUploadDiv"},[s("button",{staticClass:"uploadButton",attrs:{disabled:t.uploadInProgress},on:{click:function(e){return t.uploadSong()}}},[t._v(" Upload ")])])]):t._e():s("div",[s("button",{staticClass:"uploadButton",attrs:{disabled:!t.canUpload},on:{click:function(e){return t.startUpload()}}},[t._v(" Upload New Song ")])])]),t._m(0),s("div",{attrs:{id:"songItems"}},[s("v-expansion-panels",t._l(t.songs,(function(e){return s("v-expansion-panel",{key:e.id,on:{change:function(s){return t.playbackSong(e)}}},[s("v-expansion-panel-header",[s("div",{staticClass:"songDiv"},[s("div",{staticClass:"songNameLabel"},[t._v(t._s(e.title))]),s("div",{staticClass:"songLengthLabel"},[t._v(t._s(e.length))]),s("div",{staticClass:"songTempoLabel"},[t._v(t._s(e.tempo))])])]),s("v-expansion-panel-content",[s("div",{staticClass:"songDiv"},[s("div",{staticClass:"player-wrapper",attrs:{id:"audio-player"}},[s("div",{staticClass:"player"},[s("div",{staticClass:"player-controls"},[s("div",{attrs:{id:"play"}},[s("a",{attrs:{title:t.playing?"Pause":"Play",href:"#"},on:{click:function(e){e.preventDefault(),t.playing=!t.playing}}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[t.playing?s("path",{attrs:{fill:"currentColor",d:"M15,3h-2c-0.553,0-1,0.048-1,0.6v12.8c0,0.552,0.447,0.6,1,0.6h2c0.553,0,1-0.048,1-0.6V3.6C16,3.048,15.553,3,15,3z M7,3H5C4.447,3,4,3.048,4,3.6v12.8C4,16.952,4.447,17,5,17h2c0.553,0,1-0.048,1-0.6V3.6C8,3.048,7.553,3,7,3z"}}):s("path",{attrs:{fill:"currentColor",d:"M15,10.001c0,0.299-0.305,0.514-0.305,0.514l-8.561,5.303C5.51,16.227,5,15.924,5,15.149V4.852c0-0.777,0.51-1.078,1.135-0.67l8.561,5.305C14.695,9.487,15,9.702,15,10.001z"}})])])]),s("div",{attrs:{id:"seek"}},[s("div",{staticClass:"player-progress",attrs:{title:"Time played : Total time"},on:{click:t.seek}},[s("div",{staticClass:"player-seeker",style:{width:t.percentComplete+"%"}})]),s("div",{staticClass:"player-time"},[s("div",{staticClass:"player-time-current"},[t._v(t._s(t.currentTime))]),s("div",{staticClass:"player-time-total"},[t._v(t._s(t.durationTime))])])]),s("div",{attrs:{id:"volume"}},[s("a",{attrs:{title:t.volumeTitle,href:"#"},on:{click:function(t){t.preventDefault()},mouseenter:function(e){t.showVolume=!0},mouseleave:function(e){t.showVolume=!1}}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[s("path",{attrs:{fill:"currentColor",d:"M19,13.805C19,14.462,18.462,15,17.805,15H1.533c-0.88,0-0.982-0.371-0.229-0.822l16.323-9.055C18.382,4.67,19,5.019,19,5.9V13.805z"}})]),s("input",{directives:[{name:"model",rawName:"v-model.lazy.number",value:t.volume,expression:"volume",modifiers:{lazy:!0,number:!0}},{name:"show",rawName:"v-show",value:t.showVolume,expression:"showVolume"}],staticClass:"player-volume",attrs:{type:"range",min:"0",max:"100"},domProps:{value:t.volume},on:{change:function(e){t.volume=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}})])])])]),s("div",{staticClass:"deleteDiv"},[s("button",{staticClass:"deleteButton",on:{click:function(s){return t.deleteSong(e)}}},[t._v(" Delete ")])])])])])],1)})),1)],1),s("audio",{ref:"audio",staticStyle:{display:"none"},attrs:{id:"audio-driver",src:t.currentSong,preload:"none"}})])},dt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"tableHeader"}},[s("div",{staticClass:"songDiv"},[s("div",{staticClass:"songNameLabel"},[s("span",[t._v("Song Name")])]),s("div",{staticClass:"songLengthLabel"},[s("span",[t._v("Length")])]),s("div",{staticClass:"songTempoLabel"},[s("span",[t._v("Tempo")])]),s("div",{staticClass:"collapsePlaceholder"})])])}];const mt=t=>{let e=new Date(1e3*t).toISOString().substr(11,8);return 0===e.indexOf("00:")?e.substr(3):e};var pt={data(){return{defaultSong:"https://res.cloudinary.com/dmf10fesn/video/upload/v1548882863/audio/Post_Malone_-_Wow._playvk.com.mp3",uploading:!1,file:"",audio:void 0,currentSong:"",currentSeconds:0,durationSeconds:0,loaded:!1,playing:!1,previousVolume:20,showVolume:!1,volume:20,uploadInProgress:!1}},mounted(){this.audio=this.$el.querySelectorAll("audio")[0],this.audio.addEventListener("timeupdate",this.update),this.audio.addEventListener("loadeddata",this.load),this.audio.addEventListener("pause",()=>{this.playing=!1}),this.audio.addEventListener("play",()=>{this.playing=!0}),console.log(this.songs)},computed:{songs(){return this.$store.getters.getSongs},canUpload(){return!!this.$store.getters.isLoggedIn},currentTime(){return mt(this.currentSeconds)},durationTime(){return mt(this.durationSeconds)},percentComplete(){return parseInt(this.currentSeconds/this.durationSeconds*100)},progressStyle(){return{width:this.percentComplete+"%"}},volumeTitle(){return`Volume (${this.volume}%)`}},created(){this.$store.getters.isLoggedIn&&this.$store.dispatch("fetchSongs")},watch:{playing(t){if(t)return this.audio.play();this.audio.pause()},volume(t){this.audio.volume=this.volume/100}},methods:{async deleteSong(t){if(confirm("Do you really want to delete Song "+t.title+"?")){const e=await H.deleteSong(t.id);void 0===e?alert("Song Deletion failed"):(console.log(e),await this.$store.commit("deleteSong",t),await this.$store.dispatch("fetchSongs"))}},startUpload(){this.uploading=!0},handleFileUpload(){this.file=this.$refs.songFile.files[0]},async uploadSong(){this.uploadInProgress=!0;const t=this.file.name,e=t.split("."),s=e[0],i=e[1],n=await H.uploadSong(s,i,this.file);if(void 0===n)alert("Song upload failed"),this.uploadInProgress=!1;else{console.log(n);const t=new F(n.data.title,n.data.length,n.data.bpm,n.data.id);await this.$store.commit("addSong",t),this.uploading=!1,this.uploadInProgress=!1,await this.$store.dispatch("fetchSongs")}},load(){if(this.audio.readyState>=2)return this.loaded=!0,this.durationSeconds=parseInt(this.audio.duration),this.playing=!0;throw new Error("Failed to load sound file.")},seek(t){if(!this.playing||"SPAN"===t.target.tagName)return;const e=t.target.getBoundingClientRect(),s=(t.clientX-e.left)/e.width,i=parseInt(this.audio.duration*s)+".0";this.audio.currentTime=i.toString()},stop(){this.playing=!1,this.audio.currentTime=0},update(t){this.currentSeconds=parseInt(this.audio.currentTime)},async playbackSong(t){console.log("initiating track playback from url: ",t.url),this.loaded=!1,this.audio.src=t.url,this.currentSong=t.url,this.durationSeconds=Math.round(t.length_seconds),console.log("loaded song is ",this.durationSeconds," seconds long."),this.currentSeconds=0,this.playing=!1}}},vt=pt,gt=(s("53c4"),s("cd55")),ht=s("49e2"),ft=s("c865"),_t=s("0393"),wt=Object(o["a"])(vt,ut,dt,!1,null,"27ea7e71",null),Ct=wt.exports;at()(wt,{VExpansionPanel:gt["a"],VExpansionPanelContent:ht["a"],VExpansionPanelHeader:ft["a"],VExpansionPanels:_t["a"]});var xt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),i("v-expansion-panels",t._l(t.mixesWithProgress,(function(e){return i("v-expansion-panel",{key:e.mix.id,on:{click:function(s){return t.playbackMix(e.mix)}}},[i("v-expansion-panel-header",[i("div",{staticClass:"songDiv"},[i("div",{staticClass:"mixNameLabel"},[t._v(t._s(e.mix.title))]),i("div",{staticClass:"mixNumSongsLabel"},[t._v(t._s(e.mix.numSongs))]),i("div",{staticClass:"mixLengthLabel"},[t._v(t._s(e.mix.length))]),i("div",{staticClass:"mixTempoLabel"},[t._v(t._s(e.mix.tempo))]),i("vue-ellipse-progress",{staticClass:"mixProgress",attrs:{progress:e.progress,legend:!0,"legend-value":e.progress,size:50,color:"#76b900"}}),i("div",{staticClass:"downloadDiv"},[i("button",{staticClass:"downloadButton",attrs:{disabled:e.progress<100},on:{click:function(s){return t.downloadMix(e.mix)}}},[t._v(" Download ")])])],1)]),i("v-expansion-panel-content",[i("div",{staticClass:"songDiv"},[i("div",{staticClass:"songListWrapper"},[i("div",{staticClass:"songListLabel"},[i("span",[t._v("Song List:")])]),i("div",{staticClass:"songList",attrs:{id:"song_list"}},t._l(e.mix.song_list,(function(e){return i("span",{staticClass:"songListItem"},[t._v(" "+t._s(e)+" ")])})),0)]),i("div",{staticClass:"songListWrapper",attrs:{id:"scenario_list"}},[i("div",{staticClass:"songListLabel"},[i("span",[t._v("Scenarios:")])]),i("div",{staticClass:"songList"},t._l(e.mix.scenario_list,(function(e){return i("span",{staticClass:"songListItem"},[t._v(" "+t._s(e)+" ")])})),0)]),void 0!==e.mix.transition_points?i("div",{staticClass:"transitionPointsWrapper"},[i("div",{staticClass:"transitionPointLabel"},[i("span",[t._v("Transition Points:")])]),i("div",{staticClass:"transitionPoints"},t._l(t.currentTransitionPoints,(function(e){return i("div",[i("span",[t._v(t._s(e))])])})),0)]):t._e(),i("div",{staticClass:"player-wrapper",attrs:{id:"audio-player"}},["tbd."!==e.mix.length?i("div",{staticClass:"player"},[i("div",{staticClass:"player-controls"},[i("div",{attrs:{id:"play"}},[i("a",{attrs:{title:t.playing?"Pause":"Play",href:"#"},on:{click:function(e){e.preventDefault(),t.playing=!t.playing}}},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[t.playing?i("path",{attrs:{fill:"currentColor",d:"M15,3h-2c-0.553,0-1,0.048-1,0.6v12.8c0,0.552,0.447,0.6,1,0.6h2c0.553,0,1-0.048,1-0.6V3.6C16,3.048,15.553,3,15,3z M7,3H5C4.447,3,4,3.048,4,3.6v12.8C4,16.952,4.447,17,5,17h2c0.553,0,1-0.048,1-0.6V3.6C8,3.048,7.553,3,7,3z"}}):i("path",{attrs:{fill:"currentColor",d:"M15,10.001c0,0.299-0.305,0.514-0.305,0.514l-8.561,5.303C5.51,16.227,5,15.924,5,15.149V4.852c0-0.777,0.51-1.078,1.135-0.67l8.561,5.305C14.695,9.487,15,9.702,15,10.001z"}})])])]),i("div",{attrs:{id:"seek"}},[i("div",{staticClass:"player-progress",attrs:{title:"Time played : Total time"},on:{click:t.seek}},[i("div",{staticClass:"player-seeker",style:{width:t.percentComplete+"%"}})]),i("div",{staticClass:"player-time"},[i("div",{staticClass:"player-time-current"},[t._v(t._s(t.currentTime))]),i("div",{staticClass:"player-time-total"},[t._v(t._s(t.durationTime))])])]),i("div",{attrs:{id:"volume"}},[i("a",{attrs:{title:t.volumeTitle,href:"#"},on:{click:function(t){t.preventDefault()},mouseenter:function(e){t.showVolume=!0},mouseleave:function(e){t.showVolume=!1}}},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[i("path",{attrs:{fill:"currentColor",d:"M19,13.805C19,14.462,18.462,15,17.805,15H1.533c-0.88,0-0.982-0.371-0.229-0.822l16.323-9.055C18.382,4.67,19,5.019,19,5.9V13.805z"}})]),i("input",{directives:[{name:"model",rawName:"v-model.lazy.number",value:t.volume,expression:"volume",modifiers:{lazy:!0,number:!0}},{name:"show",rawName:"v-show",value:t.showVolume,expression:"showVolume"}],staticClass:"player-volume",attrs:{type:"range",min:"0",max:"100"},domProps:{value:t.volume},on:{change:function(e){t.volume=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}})])])])]):t._e(),i("button",{staticClass:"deleteButton",on:{click:function(s){return t.deleteMix(e.mix)}}},[t._v(" Delete ")])])])])],1)})),1),i("div",{staticClass:"refreshDiv"},[i("button",{staticClass:"refreshButton",on:{click:t.refresh}},[i("img",{attrs:{alt:"refresh",src:s("5474")}})])]),i("audio",{ref:"audio",staticStyle:{display:"none"},attrs:{id:"audio-driver",src:t.currentMix,preload:"none"}})],1)},yt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"tableHeader"}},[s("div",{staticClass:"songDiv"},[s("div",{staticClass:"mixNameLabel"},[s("span",[t._v("Mix Name")])]),s("div",{staticClass:"mixNumSongsLabel"},[s("span",[t._v("Number of Songs")])]),s("div",{staticClass:"mixLengthLabel"},[s("span",[t._v("Length")])]),s("div",{staticClass:"mixTempoLabel"},[s("span",[t._v("Tempo")])]),s("div",{staticClass:"mixProgress"},[s("div",{staticClass:"progressPlaceholder"})]),s("div",{staticClass:"downloadDiv"},[s("button",{staticClass:"downloadButtonPlaceholder"},[t._v(" Download ")])])])])}];const bt=t=>{let e=new Date(1e3*t).toISOString().substr(11,8);return 0===e.indexOf("00:")?e.substr(3):e};var St={data(){return{defaultSong:"https://res.cloudinary.com/dmf10fesn/video/upload/v1548882863/audio/Post_Malone_-_Wow._playvk.com.mp3",uploading:!1,file:"",audio:void 0,currentMix:"",currentSeconds:0,durationSeconds:0,loaded:!1,playing:!1,previousVolume:20,showVolume:!1,volume:20,currentTransitionPoints:""}},mounted(){this.audio=this.$el.querySelectorAll("audio")[0],this.audio.addEventListener("timeupdate",this.update),this.audio.addEventListener("loadeddata",this.load),this.audio.addEventListener("pause",()=>{this.playing=!1}),this.audio.addEventListener("play",()=>{this.playing=!0})},computed:{mixes(){return this.$store.getters.getMixes},mixesWithProgress(){const t=[];for(let e=0,s=this.mixes.length;e<s;e++)null!==this.mixes[e]&&t.push({mix:this.mixes[e],progress:this.mixes[e].progress,progressPercent:this.mixes[e].progressPercent});return t},currentTime(){return bt(this.currentSeconds)},durationTime(){return bt(this.durationSeconds)},percentComplete(){return parseInt(this.currentSeconds/this.durationSeconds*100)},progressStyle(){return{width:this.percentComplete+"%"}},volumeTitle(){return`Volume (${this.volume}%)`}},created(){this.$store.getters.isLoggedIn&&this.$store.dispatch("fetchMixes"),this.pollMixes()},watch:{playing(t){if(t)return this.audio.play();this.audio.pause()},volume(t){this.audio.volume=this.volume/100}},methods:{async refresh(){console.log("refreshing..."),await this.$store.dispatch("fetchMixes")},async pollMixes(){setInterval(()=>{this.mixes.filter(t=>t.progress<100).size>0&&this.$store.dispatch("fetchMixes")},1e3)},async deleteMix(t){if(confirm("Do you really want to delete Mix "+t.title+"?")){const e=await H.deleteMix(t.id);void 0===e?alert("Mix Deletion failed"):(console.log(e),await this.$store.commit("deleteMix",t),this.$store.dispatch("fetchMixes"))}},async downloadMix(t){console.log(t);const e=await H.getMixFile(t.title_mp3);if(void 0===e)alert("Mix Download failed");else{let s=new Blob([e.data]),i=document.createElement("a");i.href=window.URL.createObjectURL(s),i.setAttribute("download",t.title_mp3),document.body.appendChild(i),i.click()}},load(){if(this.audio.readyState>=2)return this.loaded=!0,this.durationSeconds=parseInt(this.audio.duration),this.playing=!0;throw new Error("Failed to load sound file.")},seek(t){if(!this.playing||"SPAN"===t.target.tagName)return;const e=t.target.getBoundingClientRect(),s=(t.clientX-e.left)/e.width,i=parseInt(this.audio.duration*s)+".0";this.audio.currentTime=i.toString()},stop(){this.playing=!1,this.audio.currentTime=0},update(t){this.currentSeconds=parseInt(this.audio.currentTime)},async playbackMix(t){if(console.log("initiating mix playback from url: ",t.url),this.audio.src=t.url,this.currentMix=t.url,this.durationSeconds=Math.round(t.length_seconds),"tbd."===t.length&&(this.durationSeconds=0),console.log("loaded mix is ",this.durationSeconds," seconds long."),this.currentSeconds=0,this.playing=!1,console.log(t),t.transition_points!==[]){const e=Array.from(t.transition_points,t=>bt(t));this.currentTransitionPoints=[].concat.apply([],e.map((function(t,s){return s%3?[]:[e.slice(s,s+3)]})))}else this.currentTransitionPoints=[]}}},At=St,Pt=(s("f8af"),Object(o["a"])(At,xt,yt,!1,null,"33fce913",null)),Mt=Pt.exports;at()(Pt,{VExpansionPanel:gt["a"],VExpansionPanelContent:ht["a"],VExpansionPanelHeader:ft["a"],VExpansionPanels:_t["a"]});var kt={data(){return{viewState:0}},components:{LogoHeader:_,Navigate:S,LoginState:T,FrontPage:I,MixCreate:ct,SongList:Ct,MixList:Mt},methods:{switchViewState(t){this.viewState=t}}},Et=kt,Tt=(s("cccb"),Object(o["a"])(Et,d,m,!1,null,null,null)),Lt=Tt.exports,Vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",[t._v("Login")]),s("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[s("div",{staticClass:"grid-container"},[t._m(0),s("div",{staticClass:"grid-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.username},attrs:{type:"text",name:"username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._m(1),s("div",{staticClass:"grid-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.password},attrs:{type:"password",name:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),s("div",{staticClass:"form-group"},[s("button",{staticClass:"loginButton",attrs:{disabled:!t.username}},[t._v("Login")]),s("img",{directives:[{name:"show",rawName:"v-show",value:!t.username,expression:"!username"}],attrs:{src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="}}),s("router-link",{staticClass:"registerButton",attrs:{to:"/register"}},[t._v("Register")])],1)])])},Dt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"grid-item"},[s("label",{staticClass:"login label"},[t._v("E-Mail")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"grid-item"},[s("label",{staticClass:"login label"},[t._v("Password")])])}];const Bt="https://discgenius.f4.htw-berlin.de/auth/";var Nt={login:It,register:$t};function It(t,e){const s=new FormData;return s.append("username",t),s.append("password",e),j.a.post(Bt+"jwt/login",s,{headers:{"Content-Type":"multipart/form-data"}}).then(t=>t)}function $t(t){return console.log(t.user,t.password,t.password_repeat),t.password==t.password_repeat?j.a.post(Bt+"register",{email:t.user,password:t.password}).then(t=>(console.log(t),t)).catch(t=>console.log(t)):"passwords must match"}var Ot={data(){return{username:"",password:"",submitted:!1}},created(){this.$store.dispatch("logout")},methods:{async handleSubmit(t){this.submitted=!0;try{const{username:t,password:e}=this;if(t&&e){const s=await Nt.login(t,e),i=s.data["access_token"],n=t;await this.$store.dispatch("login",{token:i,user:n}),await this.$router.push("/")}}catch(e){console.log(e)}}},name:"LoginPage"},Ft=Ot,Qt=(s("16e9"),Object(o["a"])(Ft,Vt,Dt,!1,null,"29b5fc1e",null)),zt=Qt.exports,jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",[t._v("Register")]),s("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[s("div",{staticClass:"grid-container"},[t._m(0),s("div",{staticClass:"grid-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",class:{"is-invalid":t.submitted},attrs:{type:"text",name:"username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._m(1),s("div",{staticClass:"grid-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",class:{"is-invalid":t.submitted},attrs:{type:"password",min:"6",name:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._m(2),s("div",{staticClass:"grid-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password_repeat,expression:"password_repeat"}],staticClass:"form-control",class:{"is-invalid":t.submitted},attrs:{type:"password",min:"6",name:"password_repeat"},domProps:{value:t.password_repeat},on:{input:function(e){e.target.composing||(t.password_repeat=e.target.value)}}})])]),s("button",{staticClass:"registerButton",on:{click:t.handleSubmit}},[t._v("Register")]),s("router-link",{staticClass:"cancelButton",attrs:{to:"/login"}},[t._v("Cancel")])],1),t.msg?s("p",[t._v(t._s(t.msg))]):t._e()])},Ut=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"grid-item"},[s("label",[t._v("E-Mail")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"grid-item"},[s("label",[t._v("Password")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"grid-item"},[s("label",[t._v("Password (Repeat)")])])}],Ht={data(){return{username:"",password:"",password_repeat:"",submitted:!1,msg:""}},methods:{async handleSubmit(t){this.submitted=!0;try{const t={user:this.username,password:this.password,password_repeat:this.password_repeat},e=await Nt.register(t);console.log(e),201===e.status?(this.msg="registered!",await this.$router.push("/login")):this.msg=e}catch(e){this.msg=e.response.data.msg}}}},Rt=Ht,Jt=(s("48c3"),Object(o["a"])(Rt,jt,Ut,!1,null,"40c95071",null)),Gt=Jt.exports;i["default"].use(u["a"]);const Yt=[{path:"/",name:"Home",component:Lt},{path:"/login",component:zt},{path:"/register",component:Gt},{path:"/about",name:"About",component:function(){return s.e("about").then(s.bind(null,"f820"))}},{path:"*",redirect:"/"}],Kt=new u["a"]({mode:"history",base:"/discgenius-app/",routes:Yt});var Wt=Kt,Zt=s("2f62"),qt=s("0e44");let Xt=[new F("Song 1","Song 1.wav","06:01",361,130,"s1"),new F("Song 2","Song 2.wav","06:22",382,134,"s2"),new F("Song 3","Song 3.wav","05:04",304,127,"s3")],te=new Q("Mix 1","Mix 1.wav",2,130,"m1",100,1e3,"16:40"),ee=[te,new Q("Mix 2","Mix 2.wav",3,120,"m2",55)];const se=()=>({currentProgress:0,songs:Xt,mixes:ee,token:"",user:{}});i["default"].use(Zt["a"]);const ie=se(),ne="https://discgenius.f4.htw-berlin.de/";function ae(t){let e=Math.floor(t/60),s=Math.round(t-60*e);return s<10?e+":0"+s:e+":"+s}const oe={async submitMix(t,e){const s=e;async function i(){setTimeout((async function(){await t.dispatch("fetchMix",s),t.state.currentProgress<100&&await i()}),60)}console.log("incoming mix id",s),await i()},async fakeProgressLoop(t,e){let{newMix:s}=e;function i(){let e=0;setTimeout((function(){t.commit("increaseProgress",10),t.commit({type:"updateMixProgress",mixTitle:s.title,amount:10}),t.commit("refreshAvailableMixes"),t.state.currentProgress<100&&e<1e3&&i()}),1e4)}i()},async fetchSongs(t){const e=await H.getSongs(),s=e.data.data[0];let i=[];s.forEach(t=>{let e=new F(t.title.split("_")[0],t.title,ae(t.length),t.length,t.bpm,t.id);"title_mp3"in t&&(e.url=ne+"getSongBytes/"+t.title_mp3,e.title_mp3=t.title_mp3),i.push(e)}),t.commit("setSongs",i)},async fetchMixes(t){const e=await H.getMixes(),s=e.data.data[0];let i=[];s.forEach(t=>{if(null!==t){let e=new Q(t.title.split("_")[0],t.title,t.num_songs,t.bpm,t.id,t.progress,t.progress.toString()+"%",ae(t.length),t.length);if("title_mp3"in t){const s=t.title.substring(0,t.title.length-4)+".mp3";e.title_mp3=s,e.url=ne+"getMixBytes/"+s}"song_list"in t&&(e.song_list=t.song_list),"scenario_list"in t&&(e.scenario_list=t.scenario_list),"transition_points"in t&&(e.transition_points=t.transition_points),i.push(e)}}),t.commit("setMixes",i)},async fetchMix(t,e){console.log("fetching mix progress for mix ",e);const s=await H.getMix(e);console.log("mix progress update: ",s);const i=s.data.data[0];console.log(i);const n=i.progress;console.log("new mix progress: ",n),t.commit("setProgress",n)},login:({commit:t,dispatch:e},{token:s,user:i})=>{t("SET_TOKEN",s),t("SET_USER",i),j.a.defaults.headers.common["Authorization"]="Bearer "+s,e("fetchSongs"),e("fetchMixes")},logout:({commit:t})=>{t("RESET","")},register({dispatch:t,commit:e},s){e("registerRequest",s),Nt.register(s).then(s=>{e("registerSuccess",s),Wt.push("/login").then(e=>setTimeout(()=>{t("alert/success","Registration successful",{root:!0})}))},s=>{e("registerFailure",s),t("alert/error",s,{root:!0})})}},re={incrementProgress(t){t.currentProgress+=10},increaseProgress(t,e){t.currentProgress+=e},setProgress(t,e){t.currentProgress=e},updateMixProgress(t,e){let s=t.mixes.find(t=>t.title===e.mixTitle);s.progress=s.progress+e.amount,t.mixes=[...t.mixes.filter(t=>t.title!==e.mixTitle),s]},setMixes(t,e){t.mixes=e,t.availableMixes=e.filter(t=>t.progress>=100)},setSongs(t,e){t.songs=e},refreshAvailableMixes(t){t.availableMixes=t.mixes.filter(t=>t.progress>=100)},addMix(t,e){t.mixes.push(e)},addSong(t,{song:e}){t.songs.push(e)},deleteMix(t,e){t.mixes.splice(t.mixes.indexOf(e),1)},deleteSong(t,e){t.songs.splice(t.songs.indexOf(e),1)},SET_TOKEN:(t,e)=>{t.token=e},SET_USER:(t,e)=>{t.user=e},RESET:t=>{Object.assign(t,se())}},le={getSongs:t=>t.songs,getMixes:t=>t.mixes,getAvailableMixes:t=>t.mixes.filter(t=>null!==t).filter(t=>void 0!==t).filter(t=>t.progress>=100),isLoggedIn:t=>!!t.token,getUser:t=>t.user,getCurrentProgress:t=>t.currentProgress,getCurrentProgressPercent:t=>t.currentProgress.toString()+"%"};var ce=new Zt["a"].Store({state:ie,actions:oe,mutations:re,getters:le,plugins:[Object(qt["a"])()]}),ue=s("9949"),de=s.n(ue),me=s("f309");i["default"].use(me["a"]);var pe=new me["a"]({}),ve=s("c4e8"),ge=s.n(ve),he=s("2b4e"),fe=s.n(he),_e=s("ce5b"),we=s.n(_e);s("bf40");i["default"].config.productionTip=!1,i["default"].use(de.a),i["default"].use(ge.a),i["default"].use(we.a),i["default"].use(fe.a),j.a.defaults.headers.common["Access-Control-Allow-Origin"]="*",j.a.defaults.headers.common["Authorization"]="Bearer "+ce.state.token,new i["default"]({router:Wt,store:ce,vuetify:pe,render:function(t){return t(c)}}).$mount("#app")},"5ced":function(t,e,s){},6616:function(t,e,s){t.exports=s.p+"img/EQ_cut.2b9b9e57.png"},8314:function(t,e,s){},"85ec":function(t,e,s){},"9d04":function(t,e,s){},"9e36":function(t,e,s){"use strict";s("e2c8")},a43b:function(t,e,s){"use strict";s("9d04")},a692:function(t,e,s){},af00:function(t,e,s){},b84e:function(t,e,s){t.exports=s.p+"img/EQ.d78d549c.png"},cccb:function(t,e,s){"use strict";s("5ced")},d46c:function(t,e,s){},e2c8:function(t,e,s){},f8af:function(t,e,s){"use strict";s("060f")},fc84:function(t,e,s){t.exports=s.p+"img/VFF_cut.5c585b06.png"}});
//# sourceMappingURL=app.05761a83.js.map